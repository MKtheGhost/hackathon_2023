<!DOCTYPE html>
<html>
<head>
    <title>Jeux des cartes mystères</title>
    <style>
        #game {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        #cards {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        .card {
            width: 100px;
            height: 150px;
            border: None;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        #score {
            margin-top: 10px;
        }
        #characters {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 0px;
        }
        .character img {
            width: 170px;
            height: 170px;
        }

        .card img {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <center><h1>Jeux des cartes mystères</h1></center>
	
	<div id="characters" style="float:left; width:100%;">
        <div class="character">
            <img src="personnages/joueur.png" alt="Joueur">
        </div>
        <div class="character">
            <img src="personnages/boss1.png" alt="Boss">
        </div>
    </div>
	
	
    <div id="game" style="float:right; width:70%">
        <div id="cards"></div>
        <div id="result"></div>
        <div id="score"></div>
    </div>

    <div id="affirmation-frame">
		<br>
        <h2>Affirmations :</h2>
        <p id="affirmation"></p>
		<button id="show-button" onclick="displayRandomAffirmation()">Afficher une autre affirmation</button>
    </div>

    <script>
        // Liste des 50 cartes possibles avec leurs affirmations
        const cards = [
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 1", "Affirmation 2"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 3", "Affirmation 4"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 5", "Affirmation 6"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 7", "Affirmation 8"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 9", "Affirmation 10"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 11", "Affirmation 12"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 13", "Affirmation 14"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 15", "Affirmation 16"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 17", "Affirmation 18"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 19", "Affirmation 20"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 21", "Affirmation 22"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 23", "Affirmation 24"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 25", "Affirmation 26"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 27", "Affirmation 28"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 29", "Affirmation 30"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 31", "Affirmation 32"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 33", "Affirmation 34"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 35", "Affirmation 36"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 37", "Affirmation 38"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 39", "Affirmation 40"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 41", "Affirmation 42"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 43", "Affirmation 44"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 45", "Affirmation 46"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 47", "Affirmation 48"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 49", "Affirmation 50"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 51", "Affirmation 52"] },
            { imageUrl: "cartes/1.png", affirmations: ["Affirmation 53", "Affirmation 54"] },

            // Ajoutez les autres cartes ici
        ];

        // Liste des affirmations affichées
        let displayedAffirmations = [];

        // Sélectionne une affirmation aléatoire parmi les affirmations disponibles pour une carte donnée
        function getRandomAffirmation(card) {
            const availableAffirmations = card.affirmations.filter(affirmation => !displayedAffirmations.includes(affirmation));
            const randomIndex = Math.floor(Math.random() * availableAffirmations.length);
            return availableAffirmations[randomIndex];
        }

        // Affiche une affirmation aléatoire dans le cadre
        function displayRandomAffirmation() {
            const affirmationElement = document.getElementById("affirmation");
            const showButtonElement = document.getElementById("show-button");
            const selectedCard = selectedCards[Math.floor(Math.random() * selectedCards.length)];
            let newAffirmation = getRandomAffirmation(selectedCard);

			// Vérifie si l'affirmation sélectionnée a déjà été affichée
			while (displayedAffirmations.includes(newAffirmation)) {
				// Sélectionne une nouvelle affirmation aléatoire
				newAffirmation = getRandomAffirmation(selectedCard);
			}

            // Ajoute la nouvelle affirmation à la liste des affirmations affichées
            displayedAffirmations.push(newAffirmation);

            // Met à jour le contenu du cadre avec toutes les affirmations affichées
            affirmationElement.innerHTML = displayedAffirmations.join("<br>");

            // Fait défiler jusqu'en bas pour afficher la dernière affirmation
            affirmationElement.scrollTop = affirmationElement.scrollHeight;

            // Vérifie si le nombre maximal d'affirmations est atteint
            if (displayedAffirmations.length >= 10) {
                showButtonElement.disabled = true;
            }
        }

        // Niveau de difficulté du jeu (1, 2 ou 3)
        const difficultyLevel = 1;

        // Nombre de cartes à sélectionner pour le jeu
        const numCards = 15;

        // Carte mystère à deviner
        let mysteryCard;

        // Cartes sélectionnées pour le jeu
        let selectedCards = [];

        // Score du joueur
        let score = 10;

        // Sélectionne les cartes pour le jeu
        function selectCards() {
            // Réinitialise les cartes sélectionnées
            selectedCards = [];

            // Sélectionne les cartes au hasard
            let availableCards = cards.slice(); // Copie de la liste des cartes
            for (let i = 0; i < numCards; i++) {
                const randomIndex = Math.floor(Math.random() * availableCards.length);
                const selectedCard = availableCards.splice(randomIndex, 1)[0];
                selectedCards.push(selectedCard);
            }

            // Choisis une carte mystère parmi les cartes sélectionnées
            mysteryCard = selectedCards[Math.floor(Math.random() * selectedCards.length)];

            // Affiche les cartes sur le plateau de jeu
            displayCards();
        }

        // Affiche les cartes sur le plateau de jeu
        function displayCards() {
            const cardsElement = document.getElementById("cards");
            cardsElement.innerHTML = "";

            for (let i = 0; i < selectedCards.length; i++) {
                const card = selectedCards[i];

                const cardElement = document.createElement("div");
                cardElement.className = "card";

                const imageElement = document.createElement("img");
                imageElement.src = card.imageUrl; // Utilisez la propriété imageUrl de la carte
                imageElement.setAttribute("alt", "Carte"); // Ajoutez l'attribut alt pour l'accessibilité
                imageElement.style.width = "100%"; // Ajuste la largeur de l'image à 100% de la carte

                cardElement.appendChild(imageElement);

                cardElement.addEventListener("click", () => {
                    checkGuess(card);
                });

                cardsElement.appendChild(cardElement);
            }
        }

        // Vérifie la supposition du joueur
        function checkGuess(card) {
            if (card === mysteryCard) {
                // Supposition correcte, le joueur gagne la partie
                displayResult("Félicitations ! Vous avez gagné la partie !");
            } else {
                // Supposition incorrecte, le joueur perd des points
                score--;
                updateScore();

                // Vérifie si le joueur a perdu
                if (score === 0) {
                    displayResult("Dommage ! Vous avez perdu la partie.");
                }
            }
        }

        // Affiche le résultat du tour de jeu
        function displayResult(message) {
            const resultElement = document.getElementById("result");
            resultElement.textContent = message;
        }

        // Met à jour le score affiché
        function updateScore() {
            const scoreElement = document.getElementById("score");
            scoreElement.textContent = "Score : " + score;
        }

        // Démarre le jeu
        function startGame() {
            selectCards();
            updateScore();
        }

        // Lance le jeu au chargement de la page
        startGame();
    </script>
</body>
</html>
