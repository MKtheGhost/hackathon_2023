<!DOCTYPE html>
<html>
<head>
    <title>Jeu de cartes mystère</title>
    <style>
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: Arial, sans-serif;
        }

        #cards-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .card {
            width: 100px;
            height: 100px;
            margin: 10px;
            perspective: 1000px;
            cursor: pointer;
        }

        .card .card-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.5s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card .card-front,
        .card .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .card .card-front {
            background-color: #f2f2f2;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
        }

        .card .card-back {
            background-color: #333;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotateY(180deg);
        }

        #result-container {
            margin-top: 20px;
            display: none;
            text-align: center;
        }

        #result-container h2 {
            margin-bottom: 10px;
        }

        #restart-button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="cards-container"></div>

        <div id="result-container">
            <h2 id="result-message"></h2>
            <button id="restart-button">Rejouer</button>
        </div>
    </div>

    <script>
        // Données pour les cartes
        const cards = [
            { name: "Card 1", affirmations: ["Affirmation 1-1", "Affirmation 1-2", /* ... */, "Affirmation 1-10"] },
            { name: "Card 2", affirmations: ["Affirmation 2-1", "Affirmation 2-2", /* ... */, "Affirmation 2-10"] },
            /* ... Ajoutez les données pour les autres cartes ici ... */
            { name: "Card 50", affirmations: ["Affirmation 50-1", "Affirmation 50-2", /* ... */, "Affirmation 50-10"] }
        ];

        // Variables de jeu
        let selectedCards = [];
        let mysteryCard = null;
        let guesses = [];

        // Fonction pour sélectionner les cartes du jeu
        function selectCards() {
            selectedCards = getRandomItems(cards, 15);
            mysteryCard = selectedCards[Math.floor(Math.random() * selectedCards.length)];
        }

        // Fonction pour obtenir des éléments aléatoires d'un tableau
        function getRandomItems(array, count) {
            const shuffled = array.sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count);
        }

        // Fonction pour afficher les cartes
        function renderCards() {
            const cardsContainer = document.getElementById("cards-container");
            cardsContainer.innerHTML = "";

            selectedCards.forEach((card, index) => {
                const cardElement = document.createElement("div");
                cardElement.className = "card";
                if (card.flipped) {
                    cardElement.classList.add("flipped");
                }
                cardElement.addEventListener("click", () => flipCard(index));

                const cardInnerElement = document.createElement("div");
                cardInnerElement.className = "card-inner";

                const frontElement = document.createElement("div");
                frontElement.className = "card-front";
                frontElement.innerText = card.name;

                const backElement = document.createElement("div");
                backElement.className = "card-back";
                backElement.innerText = card.affirmations[0]; // Affiche la première affirmation de la carte

                cardInnerElement.appendChild(frontElement);
                cardInnerElement.appendChild(backElement);
                cardElement.appendChild(cardInnerElement);
                cardsContainer.appendChild(cardElement);
            });
        }

        // Fonction pour retourner une carte
        function flipCard(index) {
            const card = selectedCards[index];
            card.flipped = true;
            renderCards();

            if (guesses.length === 0) {
                guesses.push(card);
            } else if (guesses.length === 1) {
                guesses.push(card);
                checkGuesses();
            } else {
                return;
            }
        }

        // Fonction pour vérifier si les cartes retournées correspondent
        function checkGuesses() {
            const [card1, card2] = guesses;

            if (card1.name === card2.name) {
                // Les cartes correspondent
                displayResult("Bravo ! Les cartes correspondent.");
            } else {
                // Les cartes ne correspondent pas
                displayResult("Les cartes ne correspondent pas. Essayez à nouveau.");
            }

            setTimeout(() => {
                guesses = [];
                renderCards();
            }, 1000);
        }

        // Fonction pour afficher les résultats
        function displayResult(message) {
            const resultContainer = document.getElementById("result-container");
            const resultMessage = document.getElementById("result-message");
            resultMessage.innerText = message;
            resultContainer.style.display = "block";

            setTimeout(() => {
                resultContainer.style.display = "none";
            }, 2000);
        }

        // Fonction pour réinitialiser le jeu
        function restartGame() {
            selectedCards = [];
            mysteryCard = null;
            guesses = [];

            selectCards();
            renderCards();
        }

        // Initialisation du jeu
        selectCards();
        renderCards();

        // Écouteur d'événement pour le bouton de redémarrage
        const restartButton = document.getElementById("restart-button");
        restartButton.addEventListener("click", restartGame);
    </script>
</body>
</html>
